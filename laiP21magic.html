<!doctype html>
<html lang="en-us">
<head>
<meta charset="utf-8">
<title>Demo</title>
</head>
<body>
<script src="https://georgeweigt.github.io/eigenmath.js"></script>
<table><tr><td>
<textarea id="stdin" rows="24" cols="80" style="font-family:courier;font-size:12pt">

Q = zero(2,4,4) -- (1) magic squares container 
Q[1]= ((0,0,0,1), (1,0,0,0), (0,0,1,0),(0,1,0,0)) 
Q[2]= ((1,0,0,0), (0,0,0,1), (0,1,0,0),(0,0,1,0)) 
-- (2) here comes Q[3] .. Q[8]

isMagic(Q) = do(
              n = dim(Q,1),
              s = sum(j,1,n, Q[1,j]), -- (3) the magic sum
              print(s), -- (4) print this sum
              for(i,2,n, check( sum(j,1,n, Q[i,j])==s )), --(5)
              for(j,1,n, check( sum(i,1,n, Q[i,j])==s )), --(6)
              check( sum(i,1,n, Q[i,i]) == s ),           --(7)
              check( sum(i,1,n, Q[i,n-i+1]) == s ),       --(8)
              "is magic")                                 --(9)


isMagic(Q[1])                   --(10) 
isMagic(Q[2])

Qok=((2,6,7),(10,5,0),(3,4,8))  --(11) 
Qok
isMagic(Qok)

Qbad=((2,6,7),(10,5,0),(3,4,7)) --(12) 
Qbad
isMagic(Qbad)

</textarea>
</td><td>
<button onclick="run()" style="font-size:20pt">Run</button>
</td></tr></table>
<p>
<div id="stdout"></div>
</body>
</html>