\input{preamble}

\section*{Derivative}

\verb$d(f,x)$ returns the derivative of $f$ with respect to $x$.

{\color{blue}
\begin{verbatim}
d(x^2,x)
\end{verbatim}}

$2x$

\bigskip
Extend the argument list for multiderivatives.

{\color{blue}
\begin{verbatim}
f = 1 / (x + y)
d(f,x,y)
\end{verbatim}}

$\displaystyle
\frac{2}{(x+y)^3}
$

{\color{blue}
\begin{verbatim}
d(sin(x),x,x)
\end{verbatim}}

$-\sin(x)$

\bigskip
Another syntax for $n$th derivative.

{\color{blue}
\begin{verbatim}
d(sin(x),x,2)
\end{verbatim}}

$-\sin(x)$

\bigskip
The gradient of $f$ is returned for vector $x$ in \verb$d(f,x)$.

{\color{blue}
\begin{verbatim}
r = sqrt(x^2 + y^2)
d(r,(x,y))
\end{verbatim}
}

$\displaystyle
\begin{bmatrix}
{\displaystyle \frac{x}{(x^2+y^2)^{1/2}}}
\\
\\
{\displaystyle \frac{y}{(x^2+y^2)^{1/2}}}
\end{bmatrix}
$

\bigskip
The $f$ in \verb$d(f,x)$ can be a vector or higher rank function.
Gradient increases rank by one.

{\color{blue}
\begin{verbatim}
F = (x^2,y^2)
X = (x,y)
d(F,X)
\end{verbatim}
}

$\displaystyle
\begin{bmatrix}
2x & 0
\\[1ex]
0 & 2y
\end{bmatrix}
$

\end{document}
