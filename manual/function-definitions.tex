\input{preamble}

\section*{Function definitions}

The syntax for defining functions is
\begin{center}
{\it function-name} ( {\it arg-list} ) = {\it expr}
\end{center}
where {\it arg-list} is a comma separated list of zero to nine symbols that receive arguments.
Unlike symbol definitions, {\it expr} is not evaluated when {\it function-name} is defined.
Instead, {\it expr} is evaluated when {\it function-name} is used in a subsequent computation.
The scope of function arguments is the function definition {\it expr}.

\bigskip
Function definitions cannot be nested.
In other words, function definition {\it expr}
cannot contain another function definition.

\bigskip
The following example defines a sinc function and evaluates it at $\pi/2$.

{\color{blue}
\begin{verbatim}
f(x) = sin(x)/x
f(pi/2)
\end{verbatim}}

$\displaystyle \frac{2}{\pi}$

\bigskip
After a user function is defined, {\it expr} can be recalled using the
\verb$binding$ function.

{\color{blue}
\begin{verbatim}
binding(f)
\end{verbatim}}

$\displaystyle \frac{\sin(x)}{x}$

\bigskip
To define a local symbol for use inside {\it expr}, extend the argument list.
In the following example, argument $y$ is used as a local symbol.
Note that function $L$ is called without supplying an argument for $y$.

{\color{blue}
\begin{verbatim}
L(f,n,y) = eval(exp(y) / n! d(exp(-y) y^n, y, n), y, f)
L(cos(x),2)
\end{verbatim}
}

$\displaystyle \tfrac{1}{2}\cos(x)^2-2\cos(x)+1$

\bigskip
Sometimes it is necessary to evauate an argument at a particular value.
Use \verb$eval$ to evaluate function arguments inside {\it expr}.

{\color{blue}
\begin{verbatim}
h(f,x,a) = abs(eval(f,x,a))
h(cos(y),y,0)
\end{verbatim}}

$1$

\end{document}
