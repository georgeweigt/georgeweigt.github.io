<!DOCTYPE html><html><body><script src="https://georgeweigt.github.io/eigenmath.js"></script><textarea id="stdin" rows="24" cols="80" style="font-family:courier;font-size:1em">
"Addition of angular momentum 3"

Lx(f) = i hbar (sin(phi) d(f,theta) + cos(phi) cos(theta) / sin(theta) d(f,phi))
Ly(f) = i hbar (-cos(phi) d(f,theta) + sin(phi) cos(theta) / sin(theta) d(f,phi))
Lz(f) = -i hbar d(f,phi)

L(f) = (Lx(f),Ly(f),Lz(f))
L2(f) = Lx(Lx(f)) + Ly(Ly(f)) + Lz(Lz(f))

Sx(f) = 1/2 hbar dot(((0,1),(1,0)),f)
Sy(f) = 1/2 hbar dot(((0,-i),(i,0)),f)
Sz(f) = 1/2 hbar dot(((1,0),(0,-1)),f)

S(f) = (Sx(f),Sy(f),Sz(f))
S2(f) = Sx(Sx(f)) + Sy(Sy(f)) + Sz(Sz(f))

Jx(f) = Lx(f) + Sx(f)
Jy(f) = Ly(f) + Sy(f)
Jz(f) = Lz(f) + Sz(f)

J(f) = (Jx(f),Jy(f),Jz(f))
J2(f) = Jx(Jx(f)) + Jy(Jy(f)) + Jz(Jz(f))

Y(l,m) = (-1)^m sqrt((2 l + 1) / (4 pi) (l - m)! / (l + m)!) *
         P(l,m) exp(i m phi)

P(l,m,k) = test(m < 0, (-1)^m (l + m)! / (l - m)! P(l,-m),
           (sin(theta)/2)^m sum(k, 0, l - m,
           (-1)^k (l + m + k)! / (l - m - k)! / (m + k)! / k! *
           ((1 - cos(theta)) / 2)^k))

"Check equation 1"

for(l,0,3,
 Psi = Y(l,l) (1,0),
 j = l + 1/2,
 check(J2(Psi) == j (j + 1) hbar^2 Psi)
)

"ok"

"Check equation 2"

for(l,0,3,
 Psi = Y(l,-l) (0,1),
 j = l + 1/2,
 check(J2(Psi) == j (j + 1) hbar^2 Psi)
)

"ok"

"Check equation 3"

for(l,1,3,for(m, -l + 1, l - 1,
 A = sqrt((l + m + 1) / (2 l + 1)),
 B = sqrt((l - m) / (2 l + 1)),
 Psi = A Y(l,m) (1,0) + B Y(l, m + 1) (0,1),
 j = l + 1/2,
 check(J2(Psi) == j (j + 1) hbar^2 Psi)
))

"ok"
</textarea> <button onclick="run()">Run</button><br><div id="stdout"></div></body></html>
