<!DOCTYPE html><html><body><script src="https://georgeweigt.github.io/eigenmath.js"></script><textarea id="stdin" rows="24" cols="80" style="font-family:courier;font-size:1em">
"Angular momentum 2"

Dx(f) = sin(theta) cos(phi) d(f,r) +
        cos(theta) cos(phi) / r d(f,theta) -
        sin(phi) / (r sin(theta)) d(f,phi)

Dy(f) = sin(theta) sin(phi) d(f,r) +
        cos(theta) sin(phi) / r d(f,theta) +
        cos(phi) / (r sin(theta)) d(f,phi)

Dz(f) = cos(theta) d(f,r) - sin(theta) / r d(f,theta)

px(f) = -i hbar Dx(f)
py(f) = -i hbar Dy(f)
pz(f) = -i hbar Dz(f)

Lx(f) = i hbar (sin(phi) d(f,theta) +
        cos(theta) cos(phi) / sin(theta) d(f,phi))

Ly(f) = i hbar (-cos(phi) d(f,theta) +
        cos(theta) sin(phi) / sin(theta) d(f,phi))

Lz(f) = -i hbar d(f,phi)

LL(f) = -hbar^2 (d(f,theta,theta) +
        cos(theta) / sin(theta) d(f,theta) +
        1 / sin(theta)^2 d(f,phi,phi))

"Verify operators"

W = psi(r,theta,phi,t)

x = r sin(theta) cos(phi)
y = r sin(theta) sin(phi)
z = r cos(theta)

check(y pz(W) - z py(W) == Lx(W))
check(z px(W) - x pz(W) == Ly(W))
check(x py(W) - y px(W) == Lz(W))

check(Lx(Lx(W)) + Ly(Ly(W)) + Lz(Lz(W)) == LL(W))

"ok"

"Verify commutation relations"

check(Lx(Ly(W)) - Ly(Lx(W)) == i hbar Lz(W))
check(Ly(Lz(W)) - Lz(Ly(W)) == i hbar Lx(W))
check(Lz(Lx(W)) - Lx(Lz(W)) == i hbar Ly(W))

check(Lx(LL(W)) - LL(Lx(W)) == 0)
check(Ly(LL(W)) - LL(Ly(W)) == 0)
check(Lz(LL(W)) - LL(Lz(W)) == 0)

"ok"

"Verify Griffith's formula"

er = (sin(theta) cos(phi), sin(theta) sin(phi), cos(theta))
etheta = (cos(theta) cos(phi), cos(theta) sin(phi), -sin(theta))
ephi = (-sin(phi), cos(phi), 0)

check(cross(er,er) = 0)
check(cross(er,etheta) = ephi)
check(cross(er,ephi) = -etheta)

D(f) = d(f,r) er +
       d(f,theta) / r etheta +
       d(f,phi) / (r sin(theta)) ephi

L = -i hbar cross(r er, D(W))

check(L == (Lx(W), Ly(W), Lz(W)))

"ok"
</textarea> <button onclick="run()">Run</button><br><div id="stdout"></div></body></html>
